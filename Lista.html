<meta charset="UTF-8">
<html>
    <head>

    </head>
    <body>
        <form action="javascript:void(0);" method="POST" onsubmit="appLivro.adicionar()">
            <input type="text" id="adicionarLivro" placeholder="Novo Livro">
            <input type="submit" value="Adicionar">
        </form>
        <div id="spoiler" role="aria-hidden">
            <form action="javascript:void(0);" method="POST" id="salvarEdicao">
                <input type="text" id="editarLivro">
                <input type="submit" value="Editar"/>
                <a onclick="CloseInput()" aria-label="Close" >&#10006</a>
            </form>
        </div>
        <p id="Contador"></p>
        <table>
            <tr>
                <th>Titulo</th>

            </tr>
            <tbody id="Livros">

            </tbody>

        </table>
    </body>
</html>
<script>
    var appLivro = new function(){
        this.el = document.getElementById("Livros");
        this.livros = ['Espadachim do carvÃ£o', 'Harry Potter', 'Anjos e demonios'];
        //metodo contador
        this.contar = function(dado){
            var el = document.getElementById("Contador");
            var singplural = "livro";
            if(dado){
                if(dado > 1){
                    singplural = "livros";
                }
                el.innerHTML = dado + ' ' + singplural;
            }else{
                el.innerHTML = 'Sem registro de ' + singplural;
            }
                    
        }
        //metodo para agrupar na tabela
        this.juntaTudo = function(){
            var dado = '';
            if(this.livros.length > 0){
                for(i=0 ;i<this.livros.length; i++){
                    dado += '<tr>';
                    dado += '<td>' + this.livros[i] + '<td>';
                    dado += '</tr>'

                }       
            }
            this.contar(this.livros.length);
            return this.el.innerHTML = dado;
        }
        this.adicionar = function(){
            el = document.getElementById("adicionarLivro");
            var livro = el.value;
            if(livro){
                this.livros.push(livro.trim());
                el.value='';
                this.juntaTudo();
            }
        }
     }


     appLivro.juntaTudo();
</script>